!function(){"use strict";var e=!!document.createElement("video").canPlayType;if(e){var t=document.getElementById("videoContainer"),n=document.getElementById("video"),u=document.getElementById("video-controls");n.controls=!1,u.setAttribute("data-state","visible");var c=document.getElementById("playpause"),l=document.getElementById("stop"),a=document.getElementById("mute"),d=document.getElementById("volinc"),s=document.getElementById("voldec"),r=document.getElementById("progress"),i=document.getElementById("progress-bar"),o=document.getElementById("fs"),m=document.getElementById("subtitles"),f=void 0!==document.createElement("progress").max;f||r.setAttribute("data-state","fake");var v=!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen);v||(o.style.display="none");var E=function(e){if(e){var t=Math.floor(10*n.volume)/10;"+"===e?1>t&&(n.volume+=.1):"-"===e&&t>0&&(n.volume-=.1),0>=t?n.muted=!0:n.muted=!1}y("mute")},p=function(e){E(e)},b=function(e){t.setAttribute("data-fullscreen",!!e),o.setAttribute("data-state",e?"cancel-fullscreen":"go-fullscreen")},g=function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},k=function(){g()?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),b(!1)):(t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?n.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),b(!0))};if(document.addEventListener){n.addEventListener("loadedmetadata",function(){r.setAttribute("max",n.duration)});var y=function(e){"playpause"==e?n.paused||n.ended?c.setAttribute("data-state","play"):c.setAttribute("data-state","pause"):"mute"==e&&a.setAttribute("data-state",n.muted?"unmute":"mute")};n.addEventListener("play",function(){y("playpause")},!1),n.addEventListener("pause",function(){y("playpause")},!1),n.addEventListener("volumechange",function(){E()},!1),c.addEventListener("click",function(e){n.paused||n.ended?n.play():n.pause()});for(var h=0;h<n.textTracks.length;h++)n.textTracks[h].mode="hidden";var F=[],L=function(e,t,u){var c=document.createElement("li"),l=c.appendChild(document.createElement("button"));return l.setAttribute("id",e),l.className="subtitles-button",t.length>0&&l.setAttribute("lang",t),l.value=u,l.setAttribute("data-state","inactive"),l.appendChild(document.createTextNode(u)),l.addEventListener("click",function(e){F.map(function(e,t,n){F[t].setAttribute("data-state","inactive")});for(var t=this.getAttribute("lang"),u=0;u<n.textTracks.length;u++)n.textTracks[u].language==t?(n.textTracks[u].mode="showing",this.setAttribute("data-state","active")):n.textTracks[u].mode="hidden";x.style.display="none"}),F.push(l),c},x;if(n.textTracks){var S=document.createDocumentFragment(),x=S.appendChild(document.createElement("ul"));x.className="subtitles-menu",x.appendChild(L("subtitles-off","","Off"));for(var h=0;h<n.textTracks.length;h++)x.appendChild(L("subtitles-"+n.textTracks[h].language,n.textTracks[h].language,n.textTracks[h].label));t.appendChild(x)}m.addEventListener("click",function(e){x&&(x.style.display="block"==x.style.display?"none":"block")}),l.addEventListener("click",function(e){n.pause(),n.currentTime=0,r.value=0,y("playpause")}),a.addEventListener("click",function(e){n.muted=!n.muted,y("mute")}),d.addEventListener("click",function(e){p("+")}),s.addEventListener("click",function(e){p("-")}),fs.addEventListener("click",function(e){k()}),n.addEventListener("timeupdate",function(){r.getAttribute("max")||r.setAttribute("max",n.duration),r.value=n.currentTime,i.style.width=Math.floor(n.currentTime/n.duration*100)+"%"}),r.addEventListener("click",function(e){var t=(e.pageX-(this.offsetLeft+this.offsetParent.offsetLeft+this.offsetParent.offsetParent.offsetLeft))/this.offsetWidth;n.currentTime=t*n.duration}),document.addEventListener("fullscreenchange",function(e){b(!(!document.fullScreen&&!document.fullscreenElement))}),document.addEventListener("webkitfullscreenchange",function(){b(!!document.webkitIsFullScreen)}),document.addEventListener("mozfullscreenchange",function(){b(!!document.mozFullScreen)}),document.addEventListener("msfullscreenchange",function(){b(!!document.msFullscreenElement)})}}}();